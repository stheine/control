<head>
  <link rel='stylesheet' href='index.css'>
</head>

<body>
  <div class='control' id='control'>
    <div class='control__left'>
      <div class='control__action'>
        <img src='svg/play-button-svgrepo-com.svg' />
      </div>
      <div class='control__action'>
        <img src='https://sochog.cl/wp-content/uploads/2018/06/objetivos-256x256.png' class='image' />
      </div>
      <div class='control__action'>
        <div class='fit-text'>
          Fit Me in here
        </div>
      </div>
      <div class='control__action'>
        <div class='fit-text'>
          q w e
        </div>
      </div>
      <div class='control__action'>
        <div class="fit-text">
          This Text is pretty long and should be wrapped correctly into multiple lines.
        </div>
      </div>
      <div class='control__action'>
        <div class="fit-text">
          Short Text
        </div>
      </div>
    </div>
    <div class='control__right'>
      <div class='control__navigation'>
        <div class="fit-text">
          &lt;
        </div>
      </div>
      <div class='control__navigation'>
        <img src='svg/menu-svgrepo-com.svg' />
      </div>
      <div class='control__navigation'>
        <div class="fit-text">
          &gt;
        </div>
      </div>
    </div>
  </div>
</body>

<script>
  // https://dev.to/jankapunkt/make-text-fit-it-s-parent-size-using-javascript-m40

  const isOverflown = ({ clientHeight, scrollHeight }) => scrollHeight > clientHeight

  const resizeText = ({ element, elements, minSize = 10, maxSize = 512, step = 1, unit = 'px' }) => {
    (elements || [element]).forEach(el => {
      let i = minSize
      let overflow = false
  
          const parent = el.parentNode
  
      while (!overflow && i < maxSize) {
          el.style.fontSize = `${i}${unit}`
          overflow = isOverflown(parent)
  
        if (!overflow) i += step
      }
  
      // revert to last state where no overflow happened
      el.style.fontSize = `${i - step}${unit}`
    })
  }

  resizeText({
    elements: document.querySelectorAll('.fit-text'),
    step: 0.5
  })
</script>

